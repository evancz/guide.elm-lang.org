
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Maybe Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="result.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../install.html">
            
                <a href="../install.html">
            
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core_language.html">
            
                <a href="../core_language.html">
            
                    
                    Core Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../architecture/">
            
                <a href="../architecture/">
            
                    
                    The Elm Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../architecture/user_input/">
            
                <a href="../architecture/user_input/">
            
                    
                    User Input
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../architecture/user_input/buttons.html">
            
                <a href="../architecture/user_input/buttons.html">
            
                    
                    Buttons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../architecture/user_input/text_fields.html">
            
                <a href="../architecture/user_input/text_fields.html">
            
                    
                    Text Fields
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../architecture/user_input/forms.html">
            
                <a href="../architecture/user_input/forms.html">
            
                    
                    Forms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../architecture/user_input/more.html">
            
                <a href="../architecture/user_input/more.html">
            
                    
                    More
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../architecture/effects/">
            
                <a href="../architecture/effects/">
            
                    
                    Effects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../architecture/effects/random.html">
            
                <a href="../architecture/effects/random.html">
            
                    
                    Random
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../architecture/effects/http.html">
            
                <a href="../architecture/effects/http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../architecture/effects/time.html">
            
                <a href="../architecture/effects/time.html">
            
                    
                    Time
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../architecture/effects/web_sockets.html">
            
                <a href="../architecture/effects/web_sockets.html">
            
                    
                    Web Sockets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../architecture/more.html">
            
                <a href="../architecture/more.html">
            
                    
                    More
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../types/">
            
                <a href="../types/">
            
                    
                    Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../types/reading_types.html">
            
                <a href="../types/reading_types.html">
            
                    
                    Reading Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../types/type_aliases.html">
            
                <a href="../types/type_aliases.html">
            
                    
                    Type Aliases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../types/union_types.html">
            
                <a href="../types/union_types.html">
            
                    
                    Union Types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    Error Handling and Tasks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.6.1" data-path="maybe.html">
            
                <a href="maybe.html">
            
                    
                    Maybe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="result.html">
            
                <a href="result.html">
            
                    
                    Result
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="task.html">
            
                <a href="task.html">
            
                    
                    Task
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../interop/">
            
                <a href="../interop/">
            
                    
                    Interop
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../interop/json.html">
            
                <a href="../interop/json.html">
            
                    
                    JSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../interop/javascript.html">
            
                <a href="../interop/javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../reuse/">
            
                <a href="../reuse/">
            
                    
                    Scaling The Elm Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../reuse/checkboxes.html">
            
                <a href="../reuse/checkboxes.html">
            
                    
                    Labeled Checkboxes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../reuse/radio_buttons.html">
            
                <a href="../reuse/radio_buttons.html">
            
                    
                    Radio Buttons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../reuse/modules.html">
            
                <a href="../reuse/modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../reuse/more.html">
            
                <a href="../reuse/more.html">
            
                    
                    More
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Maybe</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="maybe">Maybe</h1>
<p>It is best to just start with the definition of <code>Maybe</code>. It is a union type just like in all the examples <a href="../types/union_types.html">here</a>. It is defined like this:</p>
<pre><code class="lang-elm">&gt; <span class="hljs-keyword">type</span> <span class="hljs-type">Maybe</span> a = <span class="hljs-type">Nothing</span> | <span class="hljs-type">Just</span> a

&gt; <span class="hljs-type">Nothing</span>
<span class="hljs-type">Nothing</span> : <span class="hljs-type">Maybe</span> a

&gt; <span class="hljs-type">Just</span>
&lt;function&gt; : a -&gt; <span class="hljs-type">Maybe</span> a

&gt; <span class="hljs-type">Just</span> <span class="hljs-string">&quot;hello&quot;</span>
<span class="hljs-type">Just</span> <span class="hljs-string">&quot;hello&quot;</span> : <span class="hljs-type">Maybe</span> <span class="hljs-type">String</span>

&gt; <span class="hljs-type">Just</span> <span class="hljs-number">1.618</span>
<span class="hljs-type">Just</span> <span class="hljs-number">1.618</span> : <span class="hljs-type">Maybe</span> <span class="hljs-type">Float</span>
</code></pre>
<p>If you want to have a <code>Maybe</code> value, you have to use the <code>Nothing</code> or <code>Just</code> constructors to create it. This means that to deal with the data, you have to use a <code>case</code> expression. This means the compiler can ensure that you have definitely covered both possibilities!</p>
<p>There are two major cases where you will see <code>Maybe</code> values.</p>
<h2 id="optional-fields">Optional Fields</h2>
<p>Say we are running a social networking website. Connecting people, friendship, etc. You know the spiel. The Onion outlined our real goals best: <a href="http://www.theonion.com/video/cias-facebook-program-dramatically-cut-agencys-cos-19753" target="_blank">mine as much data as possible for the CIA</a>. And if we want <em>all</em> the data, we need to ease people into it. Let them add it later. Add features that encourage them to share more and more information over time.</p>
<p>So let&apos;s start with a simple model of a user. They must have a name, but we are going to make the age optional.</p>
<pre><code class="lang-elm"><span class="hljs-keyword">type</span> <span class="hljs-keyword">alias</span> <span class="hljs-type">User</span> =
  { name : <span class="hljs-type">String</span>
  , age : <span class="hljs-type">Maybe</span> <span class="hljs-type">Int</span>
  }
</code></pre>
<p>Now say Sue logs in and decides not to provide her birthday:</p>
<pre><code class="lang-elm"><span class="hljs-title">sue</span> : <span class="hljs-type">User</span>
<span class="hljs-title">sue</span> =
  { name = <span class="hljs-string">&quot;Sue&quot;</span>, age = <span class="hljs-type">Nothing</span> }
</code></pre>
<p>Now her friends cannot wish her a happy birthday. Sad! Later Tom creates a profile and <em>does</em> give his age:</p>
<pre><code class="lang-elm"><span class="hljs-title">tom</span> : <span class="hljs-type">User</span>
<span class="hljs-title">tom</span> =
  { name = <span class="hljs-string">&quot;Tom&quot;</span>, age = <span class="hljs-type">Just</span> <span class="hljs-number">24</span> }
</code></pre>
<p>Great, that will be nice on his birthday. But more importantly, Tom is part of a valuable demographic! The advertisers will be pleased.</p>
<p>Alright, so now that we have some users, how can we market alcohol to them without breaking any laws? People would probably be mad if we market to people under 21, so let&apos;s check for that:</p>
<pre><code class="lang-elm"><span class="hljs-title">canBuyAlcohol</span> : <span class="hljs-type">User</span> -&gt; <span class="hljs-type">Bool</span>
<span class="hljs-title">canBuyAlcohol</span> user =
  <span class="hljs-keyword">case</span> user.age <span class="hljs-keyword">of</span>
    <span class="hljs-type">Nothing</span> -&gt;
      <span class="hljs-type">False</span>

    <span class="hljs-type">Just</span> age -&gt;
      age &gt;= <span class="hljs-number">21</span>
</code></pre>
<p>Now the cool thing is that we are forced to use a <code>case</code> to pattern match on the users age. It is actually impossible to write code where you forget that users may not have an age. Elm can make sure of it. Now we can advertise alcohol confident that we are not influencing minors directly! Only their older peers.</p>
<h2 id="partial-functions">Partial Functions</h2>
<p>Sometimes you want a function that gives an answer sometimes, but just does not in other cases. </p>
<p>Let&apos;s say Mountain Dew wants to do some ad buys for people ages 13 to 18. Honestly, it is better to start kids on Mountain Dew younger than that, but it is illegal for kids under 13 to be on our site.</p>
<p>So let&apos;s say we want to write a function that will tell us a user&apos;s age, but only if they are between 13 and 18:</p>
<pre><code class="lang-elm"><span class="hljs-title">getTeenAge</span> : <span class="hljs-type">User</span> -&gt; <span class="hljs-type">Maybe</span> <span class="hljs-type">Int</span>
<span class="hljs-title">getTeenAge</span> user =
  <span class="hljs-keyword">case</span> user.age <span class="hljs-keyword">of</span>
    <span class="hljs-type">Nothing</span> -&gt;
      <span class="hljs-type">Nothing</span>

    <span class="hljs-type">Just</span> age -&gt;
      <span class="hljs-keyword">if</span> <span class="hljs-number">13</span> &lt;= age &amp;&amp; age &lt;= <span class="hljs-number">18</span> <span class="hljs-keyword">then</span>
        <span class="hljs-type">Just</span> age

      <span class="hljs-keyword">else</span>
        <span class="hljs-type">Nothing</span>
</code></pre>
<p>Again, we are reminded that users may not have an age, but if they do, we only want to return it if it is between 13 and 18. Now Elm can guarantee that anyone who calls <code>getTeenAge</code> will have to handle the possibility that the age is out of range.</p>
<p>This gets pretty cool when you start combining it with library functions like <a href="http://package.elm-lang.org/packages/elm-lang/core/latest/List#filterMap" target="_blank"><code>List.filterMap</code></a> that help you process more data. For example, maybe we want to figure out the distribution of ages between 13 and 18. We could do it like this:</p>
<pre><code class="lang-elm">&gt; alice = <span class="hljs-type">User</span> <span class="hljs-string">&quot;Alice&quot;</span> (<span class="hljs-type">Just</span> <span class="hljs-number">14</span>)
... : <span class="hljs-type">User</span>

&gt; bob = <span class="hljs-type">User</span> <span class="hljs-string">&quot;Bob&quot;</span> (<span class="hljs-type">Just</span> <span class="hljs-number">16</span>)
... : <span class="hljs-type">User</span>

&gt; users = [ sue, tom, alice, bob ]
... : <span class="hljs-type">List</span> <span class="hljs-type">User</span>

&gt; <span class="hljs-type">List</span>.filterMap getTeenAge users
[<span class="hljs-number">14</span>,<span class="hljs-number">16</span>] : <span class="hljs-type">List</span> <span class="hljs-type">Int</span>
</code></pre>
<p>We end up with only the ages we care about. Now we can feed our <code>List Int</code> into a function that figures out the distributions of each number.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Error Handling and Tasks">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="result.html" class="navigation navigation-next " aria-label="Next page: Result">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Maybe","level":"1.6.1","depth":2,"next":{"title":"Result","level":"1.6.2","depth":2,"path":"error_handling/result.md","ref":"error_handling/result.md","articles":[]},"previous":{"title":"Error Handling and Tasks","level":"1.6","depth":1,"path":"error_handling/README.md","ref":"error_handling/README.md","articles":[{"title":"Maybe","level":"1.6.1","depth":2,"path":"error_handling/maybe.md","ref":"error_handling/maybe.md","articles":[]},{"title":"Result","level":"1.6.2","depth":2,"path":"error_handling/result.md","ref":"error_handling/result.md","articles":[]},{"title":"Task","level":"1.6.3","depth":2,"path":"error_handling/task.md","ref":"error_handling/task.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["ga","youtube","bulk-redirect"],"pluginsConfig":{"youtube":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"bulk-redirect":{"basepath":"/","redirectsFile":"redirects.json"},"ga":{"configuration":"auto","token":"UA-25827182-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"error_handling/maybe.md","mtime":"2017-02-16T07:29:27.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-04-09T03:37:44.146Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

